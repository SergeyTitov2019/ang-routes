<form (submit)="processForm()" [formGroup]="form">

  <div class="form-main">
    <div><h3>Reactive form</h3></div>

    <div class="input-wrapper">
      <h5> Name</h5>
      <input type="text" name="name" formControlName="name">
      <div
        *ngIf="form.get('name')?.invalid && form.get('name')?.errors && (form.get('name')?.dirty || form.get('name')?.touched)"
        class="has-error">
        <small class="text-danger"
               *ngIf="form.get('name')?.hasError('required')">
          The field is required!
        </small>
        <small class="text-danger"
               *ngIf="form.get('name')?.hasError('minlength')">
          The minimum length for this field is {{form.get('name')?.errors?.['minlength'].requiredLength}} characters.
        </small>
        <small class="text-danger"
               *ngIf="form.get('name')?.hasError('maxlength')">
          The maximum length for this field is {{form.get('name')?.errors?.['maxlength'].requiredLength}} characters.
        </small>
      </div>
    </div>

    <div class="input-wrapper">
      <h5> Username</h5>
      <input type="text" name="userName" formControlName="userName">
      <div
        *ngIf="form.get('userName')?.invalid && form.get('userName')?.errors && (form.get('userName')?.dirty || form.get('userName')?.touched)"
        class="has-error"
      >
        <small class="text-danger"
               *ngIf="form.get('userName')?.hasError('required')">
          The field is required!
        </small>
        <small class="text-danger"
               *ngIf="form.get('userName')?.hasError('minlength')">
          The minimum length for this field is {{form.get('userName')?.errors?.['minlength'].requiredLength}}
          characters.
        </small>
        <small class="text-danger"
               *ngIf="form.get('userName')?.hasError('maxlength')">
          The maximum length for this field is {{form.get('userName')?.errors?.['maxlength'].requiredLength}}
          characters.
        </small>
      </div>
    </div>


    <!--    <div class="input-wrapper">-->
    <!--      <h5> Username</h5>-->
    <!--      <input type="text" name="userName" formControlName="userName">-->
    <!--      <span *ngIf="userNameHasError">{{ userNameHasError }}</span>-->
    <!--    </div>-->

    <app-button (click)="getData(form.get('userName')?.errors?.['minlength'].requiredLength)"
                [bntTitle]="'Save'"></app-button>


    <div class="form-group" formArrayName="addresses">
      <!--      <div *ngFor="let address of form.controls['addresses'].controls; let i = index">-->
      <div>>
        <div class="panel">
          <div class="panel-heading">
            Address #
          </div>
          <div class="panel-body">
            <div class="form-group">
              <label>City</label>
              <input type="text" formControlName="city" required>
            </div>
            <div class="form-group">
              <label>Country</label>
              <input type="text" formControlName="country" required>
            </div>
          </div>
        </div>
      </div>
    </div>


  </div>
</form>
